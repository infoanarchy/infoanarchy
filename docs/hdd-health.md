---
title: Диагностика HDD
type: docs
---

## Диагностика HDD 

Современные диски содержат в себе компьютер уровня PC 15-летней давности, который целиком и полностью управляет работой диска, следит за его здоровьем, и прочее.
Технология позволяющая пользователю получать доступ к диагностической информации называется [S.M.A.R.T.](https://ru.wikipedia.org/wiki/S.M.A.R.T.)
Именно чтение СМАРТа позволит тебе понять что же происходит с диском.
Для чтения СМАРТа существует множество утилит. Популярной утилитой под виндовс является [Cristal Disk Info](https://crystalmark.info/en/software/crystaldiskinfo/). В настройках включи показ raw значений в десятичном виде.

Другой полезной утилитой для диагностики и запуска тестов является [GSmartControl](https://gsmartcontrol.shaduri.dev/downloads)

### Итак, запускаем утилиту и смотрим СМАРТ диска.

Если:

* Есть переназначенные сектора — диску пизда. Срочно сохраняй данные на флешки/облако/небо/Аллаха, и относись к диску так, будто он уже умер.

* Ошибки CRC UltraDMA и аварийные выключения питания — проверь SATA-кабель (замени), кабель питания, БП своего ПК (смотри напряжения в BIOS). Убедись что диск не перегревается.

* Есть нестабильные сектора. Нужно дать возможность диску решить, пизда ему или нет. Для этого можешь 2 раза выполнить полное форматирование стандартными средствами виндовс. Выбираешь форматировать и ставишь галочку «Полное форматирование». В линуксе просто записывай диск нулями с помощью утилиты `dd`.

* Дополнительно можешь протестировать диск с помощью утилиты GSmartControl.
Чтобы протестировать поверхность блинов, выбираешь свой диск, вызываешь контекстное меню, выбираешь «Perform Tests», в открывшемся окне запускаешь «Extended Self Test». Ждешь.
«Conveyance self-test» — тест специально для проверки диска после транспортировки.

* А Виктория? — Где ты о ней узнал? На каких форумах из 2000х вычитал? Виктория эталонная свистоперделка, мигающая лампочками и никак неспособная тебе помочь. В 90-х годах диски сильно отличались от современных, это были тупые железки с дорожками, цилиндрами, и секторами, которыми целиком управлял драйвер компьютера.
В 2020-м году контроллер диска не дает тебе прямого доступа к секторам, а выдаваемая им «геометрия» никакого отношения к физической разметке не имеет, и сообщается из соображений совместимости.
Более того, [SMR-диски](https://kb.synology.com/ru-ru/DSM/tutorial/PMR_SMR_hard_disk_drives) имеют область CMR-кэша на пластинах, как SLC-кэш в SSD, что лишает любого смысла попытки что-то понять о состоянии диска, давая команды на чтение или запись «секторов».
В общем, забудь об этой свистоперделке под DOS (sic) из 90-х, и никогда не вспоминай.

* Попробуй лайв систему [SystemRescueCD](https://system-rescue.org/Download). Она содержит утилиту [whdd](https://whdd.github.io) (просто введи команду в терминале), которая позволяет проводить тесты чтения, записи, и забивать диск нулями. И графический [GParted](https://gparted.org/display-doc.php?name=help-manual&lang=ru) для управления разделами.

Источник: анон с 2ch
